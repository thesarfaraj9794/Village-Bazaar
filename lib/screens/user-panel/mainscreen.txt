import 'package:firebase_auth/firebase_auth.dart';
import 'package:flutter/material.dart';
import 'package:get/get.dart';
import 'package:google_sign_in/google_sign_in.dart';

import 'package:village_bazzar/screens/user-panel/all-categories-screen.dart';
import 'package:village_bazzar/screens/user-panel/all-flash-sale-product.dart';
import 'package:village_bazzar/screens/user-panel/all-products-screen.dart';
import 'package:village_bazzar/screens/user-panel/cart-screen.dart';
import 'package:village_bazzar/services/offer_services.dart';
import 'package:village_bazzar/utils/app-constant.dart';
import 'package:village_bazzar/widgets/all-products-widget.dart';
import 'package:village_bazzar/widgets/banner-widget.dart';
import 'package:village_bazzar/widgets/category-widget.dart';
import 'package:village_bazzar/widgets/custom-drawer-widget.dart';
import 'package:village_bazzar/widgets/flash-sale-widget.dart';
import 'package:village_bazzar/widgets/heading-widget.dart';

class MainScreen extends StatefulWidget {
  const MainScreen({super.key});

  @override
  State<MainScreen> createState() => _MainScreenState();
}

class _MainScreenState extends State<MainScreen> {
  @override
  Widget build(BuildContext context) {
    const double searchBarHeight = 70.0;
    return Scaffold(
      // backgroundColor: const Color.fromARGB(255, 153, 172, 197),
      // backgroundColor: const Color.fromARGB(255, 192, 198, 206),
      appBar: AppBar(
        backgroundColor: const Color.fromARGB(255, 153, 172, 197),
        // backgroundColor: const Color.fromARGB(255, 192, 198, 206),
        title: Text(AppConstant.appMainName),
        centerTitle: true,
        actions: [
          GestureDetector(
            onTap: () => Get.to(() => CartScreen()),
            child: Padding(
              padding: const EdgeInsets.all(8.0),
              child: Icon(Icons.shopping_cart),
            ),
          ),
        ],
        // bottom: PreferredSize(
        //   preferredSize: const Size.fromHeight(searchBarHeight),
        //   child: Padding(
        //     padding: const EdgeInsets.fromLTRB(
        //       16.0,
        //       0.0,
        //       16.0,
        //       10.0,
        //     ), // à¤¨à¥€à¤šà¥‡ à¤•à¥€ à¤¤à¤°à¤« à¤¥à¥‹à¤¡à¤¼à¥€ à¤ªà¥ˆà¤¡à¤¿à¤‚à¤—
        //     child: TextFormField(
        //       decoration: InputDecoration(
        //         hintText: 'Search for products...',
        //         prefixIcon: const Icon(Icons.search, color: Colors.grey),
        //         // à¤¸à¤°à¥à¤š à¤¬à¤¾à¤° à¤•à¥‹ à¤†à¤•à¤°à¥à¤·à¤• à¤¬à¤¨à¤¾à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤:
        //         border: OutlineInputBorder(
        //           borderRadius: BorderRadius.circular(10.0),
        //           borderSide: BorderSide.none,
        //         ),
        //         contentPadding: const EdgeInsets.symmetric(
        //           vertical: 8.0,
        //           horizontal: 15.0,
        //         ),
        //         filled: true,
        //         fillColor: Colors.white, // à¤¸à¥žà¥‡à¤¦ à¤¬à¥ˆà¤•à¤—à¥à¤°à¤¾à¤‰à¤‚à¤¡
        //       ),
        //     ),
        //   ),
        // ),
      ),
      drawer: DrawerWidget(),
      body: SingleChildScrollView(
        physics: BouncingScrollPhysics(),
        child: Column(
          children: [
            SizedBox(height: Get.height / 90.0),

            //banners call
            BannerWidget(),
            SizedBox(height: 8.0),
            HeadingWidget(
              headingTitle: "Categories ðŸ›’",
              headingSubtitle: "According to your choise",
              onTap: () => Get.to(() => AllCategoriesScreen()),

              buttonText: "See All",
            ),

            SizedBox(height: 5),
            CategoriesWidget(),
            HeadingWidget(
              headingTitle: "Flash Sale",
              headingSubtitle: "Unbeatable DiscountsðŸŽ‰ðŸŽ‰",
              onTap: () => Get.to(() => AllFlashSaleProductScreen()),
              buttonText: "See All",
            ),
            FlashSaleWidget(),
            SizedBox(height: 10),
           
                  Container(
                    padding: EdgeInsets.only(left: 5),
                    child: Column(
                      crossAxisAlignment: CrossAxisAlignment.start,
                      children: [
                        
                        Text(
                          "Loyalty Card Offer",
                          style: TextStyle(
                            fontSize: 20,
                            fontWeight: FontWeight.bold,
                            color: const Color.fromARGB(255, 240, 107, 54),
                          ),
                        ),
                      ],
                    ),
                  ),
                
              
            
           // SizedBox(height: 10.0),
            OfflineLoyaltyOfferWidget(),
            HeadingWidget(
              headingTitle: "All Products",
              headingSubtitle: "Clothes for Every OccasionðŸ›’",
              onTap: () => Get.to(() => AllProductsScreen()),
              buttonText: "See All",
            ),
            AllProductsWidget(),
          ],
        ),
      ),
    );
  }
}
